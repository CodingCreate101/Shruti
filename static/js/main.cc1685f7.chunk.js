(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,a){e.exports=a.p+"static/media/cover.1f2c801c.jpg"},58:function(e,t,a){e.exports=a(85)},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),c=a.n(r),o=a(3),s=a(4),i=a(6),m=a(5),u=a(7),p=a(8),d=a(27),g=a.n(d);a(67),a(70);g.a.initializeApp({apiKey:"AIzaSyCKwHZ19MLlPx_FYgpvA6pbhkzTSsNhTrM",authDomain:"shruti-ac2cd.firebaseapp.com",databaseURL:"https://shruti-ac2cd.firebaseio.com",projectId:"shruti-ac2cd",storageBucket:"shruti-ac2cd.appspot.com",messagingSenderId:"184253930018",appId:"1:184253930018:web:4fcc8249564d9507"});var h=g.a.firestore(),f=g.a.auth(),E=h,b=function(e){return{type:"CHANGE_SONG",songObject:e}},v=function(e){return{type:"UPDATE_PLAYED",value:e}},y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).togglePlay=function(){a.props.togglePlayer()},a.openFullPlayer=function(){a.props.openPlayer()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.player,t=e.playing?"fas fa-pause-circle":"fas fa-play-circle";return l.a.createElement("span",null,l.a.createElement("div",{className:"bottomPlayer"},l.a.createElement("div",{className:"container list-group-item text-light waves-effect waves-light font-weight-bold darken-4",style:{background:"#212121"}},l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-10 black bottomPlayer-shadow",onClick:this.openFullPlayer},l.a.createElement("div",{className:"songTitle text-success"},e.song.title),l.a.createElement("p",{className:"font-weight-lighter author-name"},e.song.narrator)),l.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-2 black bottomPlayer-shadow"},l.a.createElement("span",{className:"text-white bigFont float-right",onClick:this.togglePlay},l.a.createElement("i",{className:t}))),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))))}}]),t}(n.Component),N=Object(p.b)(function(e){return{player:e.player}},function(e){return{togglePlayer:function(){return e({type:"TOGGLE_PLAY"})}}})(y),k=a(12),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).fixedButton="",a.showDown="",a.showMenu=!1,a.toggleMenu=function(){a.showMenu?(a.fixedButton="",a.showDown=""):(a.fixedButton="active",a.showDown="shown"),a.showMenu=!a.showMenu},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"fixed-action-btn ".concat(this.fixedButton),style:{top:"0",right:"0",height:"316px"}},l.a.createElement(k.b,{onClick:this.toggleMenu,to:"#",className:"btn-floating red waves-effect waves-light"},l.a.createElement("i",{className:"fas fa-bars"})),l.a.createElement("ul",{className:"list-unstyled"},l.a.createElement("li",null,l.a.createElement(k.b,{to:"/settings",className:"btn-floating btn-sm yellow darken-4 waves-effect waves-light ".concat(this.showDown)},l.a.createElement("i",{className:"fas fa-cog"}))),l.a.createElement("li",null,l.a.createElement(k.b,{to:"/",className:"btn-floating btn-sm green waves-effect waves-light ".concat(this.showDown)},l.a.createElement("i",{className:"fas fa-home"}))),l.a.createElement("li",null,l.a.createElement(k.b,{to:"/help",className:"btn-floating btn-sm blue darken-1 waves-effect waves-light ".concat(this.showDown)},l.a.createElement("i",{className:"fas fa-question"})))))}}]),t}(n.Component),O=a(20),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).navigate=function(e){"back"!==e?a.props.history.push(e):a.props.history.goBack()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.options;return l.a.createElement("div",{className:"text-white text-center center container",style:{marginTop:"10px",marginBottom:"10px"}},l.a.createElement("div",{className:"row"},t.backLink?l.a.createElement("div",{onClick:function(){return e.navigate(t.backLink)},className:"col-2 waves-effect waves-light closeButton"},l.a.createElement("i",{className:"fas fa-chevron-left"})):l.a.createElement("div",{className:"col-2 waves-effect waves-light closeButton"},l.a.createElement("i",{className:"fas fa-headphones"})),t.narrator?l.a.createElement("div",{className:"col-8 text-center font-weight-bold"},t.title,l.a.createElement("p",{className:"font-weight-lighter"}," ",t.narrator," - ",t.year)):l.a.createElement("div",{className:"col-8 waves-effect waves-light closeButton"},t.title),l.a.createElement("div",{className:"col-2"},l.a.createElement(S,null))))}}]),t}(n.Component),j=Object(O.e)(w),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).selectSong=function(e){a.props.changeSong(e)},a.openFullPlayer=function(){a.props.history.push("/play")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.player.songsList?this.props.auth.userLoggedIn||this.props.history.push("/login"):this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.player,t=this.selectSong,a=e.songsList?Object.keys(e.songsList).map(function(a,n){var r="list-group-item waves-effect waves-light font-weight-bold darken-4 grey ";return r+=e.song.title===e.songsList[a].title?"text-success":"text-light",l.a.createElement("div",{key:n,onClick:function(){return t(e.songsList[a])},className:r},e.songsList[a].title,l.a.createElement("p",{className:"font-weight-lighter author-name"},e.songsList[a].narrator))}):null,r={backLink:"/",title:e.bookName,narrator:null,year:null,floatButton:!0};return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-8 col-sm-8"},l.a.createElement(j,{options:r}),l.a.createElement("div",{className:"list-group"},a)),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "))),l.a.createElement("div",{style:{minHeight:"150px"}}),e.song.title?l.a.createElement(N,{openPlayer:this.openFullPlayer}):null)}}]),t}(n.Component),P=Object(p.b)(function(e,t){return{player:e.player,auth:e.auth}},function(e){return{changeSong:function(t){return e(b(t))}}})(x);function C(e){var t=e.className,a=e.seconds;return l.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),l=T(t.getUTCSeconds());if(a)return"".concat(a,":").concat(T(n),":").concat(l);return"".concat(n,":").concat(l)}(a))}function T(e){return("0"+e).slice(-2)}var L=a(50),A=a.n(L),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).togglePlay=function(){a.props.togglePlayer()},a.getSongIndexOnPlaylist=function(e){return a.props.player.songsList.findIndex(function(t){return t===e})},a.playNextOrPrevSong=function(e){var t=a.props.player,n=a.getSongIndexOnPlaylist(t.song);void 0!==t.songsList[n+e]&&a.props.changeSong(t.songsList[n+e])},a.seekSong=function(e){a.props.seekSong(e)},a.handleRateChange=function(e){a.props.changePlaybackRate(e.target.value)},a.handleBookMark=function(){console.log("Handle BookMark")},a.sleeper=function(e){setTimeout(function(){a.togglePlay(),a.props.toggleTimer()},1e3*e)},a.sleepTimer=function(){a.props.toggleTimer(),setTimeout(function(){clearTimeout(a.sleeper),1===a.props.player.timerStatus&&a.sleeper(localStorage.getItem("sleepTime")-2)},2e3)},a.onSeekMouseDown=function(){a.props.updateSeekStatus(!0)},a.onSeekChange=function(e){a.props.updatePlayed(parseFloat(e.target.value))},a.onSeekMouseUp=function(e){a.props.updateSeekStatus(!1),a.props.seekSong(parseFloat(e.target.value))},a.onProgress=function(e){},a.songEnded=function(){console.log("Song ended")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.player.song.title||this.props.history.push("/book")}},{key:"render",value:function(){var e,t=this,a=this.props.player,r="bigFont waves-effect waves-light";e=l.a.createElement("span",{className:"controlLabels"},"Beta"),a.timerStatus&&(r+=" text-success");var c={backLink:"/book",title:a.song.title,narrator:a.song.narrator,year:a.song.release,floatButton:!0},o=a.playing?"fas fa-pause-circle":"fas fa-play-circle";return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-8 col-sm-8"},l.a.createElement("div",{className:"grey darken-4 text-center FullPlayer"},l.a.createElement(j,{options:c}),l.a.createElement("div",{className:"text-white center container"},l.a.createElement("div",{className:"row coverImage",style:{backgroundImage:"url(".concat(A.a,")")}}))),"This app is meant for mobile use"),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "))),l.a.createElement("div",{style:{position:"fixed",bottom:"0",width:"100%"}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-8 col-sm-8"},l.a.createElement("div",{className:"playerControls text-white"},l.a.createElement("div",{className:"row align-middle"},l.a.createElement("div",{className:"col"},l.a.createElement("input",{value:a.played,className:"seekBar",type:"range",min:1e-4,max:.9999,step:"any",onPointerDown:this.onSeekMouseDown,onChange:this.onSeekChange,onTouchMove:this.onSeekChange,onPointerUp:this.onSeekMouseUp}),l.a.createElement("progress",{className:"progressBar",max:.9999,value:a.played}),l.a.createElement("span",{className:"durations"},l.a.createElement("span",{className:"float-left"},l.a.createElement(C,{seconds:a.playedSeconds})),l.a.createElement("span",{className:"float-right"},l.a.createElement(C,{seconds:a.totalDuration-a.playedSeconds}))))),l.a.createElement("div",{className:"row align-middle"},l.a.createElement("div",{className:"col text-right"},l.a.createElement("span",{className:"bigFont align-middle",onClick:function(){return t.playNextOrPrevSong(-1)}},l.a.createElement("i",{className:"fas fa-chevron-circle-left"}))),l.a.createElement("div",{className:"col"},l.a.createElement("span",{className:"biggerFont",onClick:this.togglePlay},l.a.createElement("i",{className:o}))),l.a.createElement("div",{className:"col text-left"},l.a.createElement("span",{className:"bigFont",onClick:function(){return t.playNextOrPrevSong(1)}},l.a.createElement("i",{className:"fas fa-chevron-circle-right"})))),l.a.createElement("div",{className:"spacer"}),l.a.createElement("div",{className:"row align-middle"},l.a.createElement("div",{className:"col"},l.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("60m")}},l.a.createElement("i",{className:"fas fa-undo-alt"}),l.a.createElement("span",{className:"controlLabels"},"1m"))),l.a.createElement("div",{className:"col text-right"},l.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("10m")}},l.a.createElement("i",{className:"fas fa-undo-alt"}),l.a.createElement("span",{className:"controlLabels"},"10s"))),l.a.createElement("div",{className:"col text-center"}),l.a.createElement("div",{className:"col text-left"},l.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("10p")}},l.a.createElement("i",{className:"fas fa-redo-alt"}),l.a.createElement("span",{className:"controlLabels"},"10s"))),l.a.createElement("div",{className:"col"},l.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("60p")}},l.a.createElement("i",{className:"fas fa-redo-alt"}),l.a.createElement("span",{className:"controlLabels"},"1m")))),l.a.createElement("div",{className:"spacer"}),l.a.createElement("div",{className:"row align-middle"},l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("select",{className:"custom-select",onChange:this.handleRateChange,defaultValue:a.playbackRate},l.a.createElement("option",{value:.5},"0.5x"),l.a.createElement("option",{value:1},"1x"),l.a.createElement("option",{value:1.25},"1.25x"),l.a.createElement("option",{value:1.5},"1.5x"),l.a.createElement("option",{value:1.75},"1.75x"),l.a.createElement("option",{value:2},"2x"),l.a.createElement("option",{value:2.25},"2.25x"),l.a.createElement("option",{value:2.5},"2.5x"),l.a.createElement("option",{value:2.75},"2.75x"),l.a.createElement("option",{value:3},"3x"))),l.a.createElement("div",{className:"col-6 bigFont"},l.a.createElement("span",{className:r,onClick:this.sleepTimer},l.a.createElement("i",{className:"fas fa-stopwatch"}),e))))),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))))}}]),t}(n.Component),_=Object(p.b)(function(e){return{player:e.player}},function(e){return{togglePlayer:function(){return e({type:"TOGGLE_PLAY"})},changeSong:function(t){return e(b(t))},seekSong:function(t){return e(function(e){return{type:"SEEK_SONG",duration:e}}(t))},changePlaybackRate:function(t){return e(function(e){return{type:"CHANGE_PLAYBACK_RATE",rate:e}}(t))},toggleTimer:function(t){return e({type:"TOGGLE_TIMER"})},updateSeekStatus:function(t){return e(function(e){return{type:"UPDATE_SEEK_STATUS",seekStatus:e}}(t))},updatePlayed:function(t){return e(v(t))}}})(I),D=a(51),U=a.n(D),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).ref=function(e){a.player=e},a.componentDidMount=function(){a.props.initPlayer(a.player)},a.seekValue=function(e){e*e<1?a.player.seekTo(a.player.getDuration()*e):a.player.seekTo(a.player.getCurrentTime()+e)},a.resetSeek=function(){a.props.resetSeekValue()},a.onProgress=function(e){a.props.refUPDATE(e,a.player.getDuration())},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.player;switch(e.seekSong){case"10m":this.seekValue(-10),this.resetSeek();break;case"60m":this.seekValue(-60),this.resetSeek();break;case"10p":this.seekValue(10),this.resetSeek();break;case"60p":this.seekValue(60),this.resetSeek();break;default:e.seekSong>0&&!e.seekStatus&&(this.seekValue(e.played),this.resetSeek())}return l.a.createElement("span",null,l.a.createElement(U.a,{ref:this.ref,playbackRate:e.playbackRate,onPause:this.onPause,playing:e.playing,className:"PlayerDia",url:e.song.url,onProgress:this.onProgress}))}}]),t}(n.Component),R=Object(p.b)(function(e,t){return{player:e.player}},function(e){return{initPlayer:function(t){return e(function(e){return function(t,a){var n=[];E.collection("Books").doc("books").get().then(function(e){n=e.data()}).then(function(){t({type:"INIT_PLAYER",RPControls:e,initialData:n})}).catch(function(e){console.log(e)})}}(t))},resetSeekValue:function(){return e({type:"RESET_SEEK_VALUE"})},updatePlayed:function(t){return e(v(t))},refUPDATE:function(t,a){return e(function(e,t){return{type:"REF_UPDATE",status:e,dur:t}}(t,a))}}})(F),G=a(2),B=a(52),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).initialData=[],a.thisbe="",a.state={loading:!0},a.componentDidMount=function(){a.props.auth.userLoggedIn?a.setState(Object(G.a)({},a.state,{loading:!1})):setTimeout(function(){a.setState(Object(G.a)({},a.state,{loading:!1})),a.props.auth.userLoggedIn||a.props.history.push("/login")},3e3)},a.goToPlayList=function(e,t){var n=Object.entries(e).map(function(e){return e[1]});a.props.changePlaylist(n,t),a.props.history.push("/book")},a.makeBookList=function(e){var t=e.allPlaylists,n=a.goToPlayList;return t?Object.keys(t).map(function(e,a){return l.a.createElement("div",{key:a,onClick:function(){n(t[e],e)},className:"list-group-item waves-effect waves-light font-weight-bold darken-4 grey text-light"},e)}):null},a.headerOptions={backLink:null,title:"Shruti",narrator:null,year:null,floatButton:!0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.player;return this.state.loading?l.a.createElement("div",{className:"loaderAniContainer"},l.a.createElement("div",{className:"loaderAni"},l.a.createElement(B.FireworkSpinner,{size:50,color:"rgb(0, 255, 137)",loading:this.state.loading}))):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-8 col-sm-8"},l.a.createElement(j,{options:this.headerOptions}),this.makeBookList(e)),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))}}]),t}(n.Component),Y=Object(p.b)(function(e,t){return{player:e.player,auth:e.auth}},function(e){return{changePlaylist:function(t,a){return e(function(e,t){return{type:"CHANGE_PLAYLIST",playlist:e,bookName:t}}(t,a))}}})(M),V=(a(84),a(22)),H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.loginWithEmail(a.state)},a.handleChange=function(e){a.setState(Object(G.a)({},a.state,Object(V.a)({},e.target.id,e.target.value)))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.auth.userLoggedIn?l.a.createElement(O.a,{to:"/"}):l.a.createElement("section",{className:"form-elegant"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-8 col-sm-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body mx-4"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"dark-grey-text mb-5"},l.a.createElement("strong",null,"Login"))),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"text",id:"email",className:"form-control"}),l.a.createElement("label",{htmlFor:"email"},"Email")),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password",className:"form-control"}),l.a.createElement("label",{htmlFor:"password"},"Password")),l.a.createElement("div",{className:"text-center mb-3"},l.a.createElement("button",{type:"submit",className:"btn blue-gradient btn-block btn-rounded z-depth-1a text-white"},"Login")))),this.props.auth.authError?l.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.props.auth.authError):null,l.a.createElement("div",{className:"modal-footer mx-5 pt-3 mb-1"},l.a.createElement("p",{className:"font-small grey-text d-flex justify-content-end"},"New here?",l.a.createElement(k.b,{to:"/signup",className:"blue-text ml-1"},"Sign Up"))))),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))}}]),t}(n.Component),K=Object(p.b)(function(e,t){return{auth:e.auth}},function(e){return{loginWithEmail:function(t){return e((a=t,function(e,t){f.signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(H),W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",firstName:"",city:""},a.handleSubmit=function(e){e.preventDefault(),a.props.signUpWithEmail(a.state)},a.handleChange=function(e){a.setState(Object(G.a)({},a.state,Object(V.a)({},e.target.id,e.target.value)))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.auth.userLoggedIn?l.a.createElement(O.a,{to:"/"}):l.a.createElement("section",{className:"form-elegant"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-8 col-sm-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body mx-4"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"dark-grey-text mb-5"},l.a.createElement("strong",null,"Sign Up"))),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"text",id:"firstName",className:"form-control"}),l.a.createElement("label",{htmlFor:"firstName"},"First Name")),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"text",id:"email",className:"form-control"}),l.a.createElement("label",{htmlFor:"email"},"Email")),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password",className:"form-control"}),l.a.createElement("label",{htmlFor:"password"},"Password")),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"text",id:"city",className:"form-control"}),l.a.createElement("label",{htmlFor:"city"},"City")),l.a.createElement("div",{className:"text-center mb-3"},l.a.createElement("button",{type:"submit",className:"btn blue-gradient btn-block btn-rounded z-depth-1a text-white"},"Sign up")))),this.props.auth.authError?l.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.props.auth.authError):null,l.a.createElement("div",{className:"modal-footer mx-5 pt-3 mb-1"},l.a.createElement("p",{className:"font-small grey-text d-flex justify-content-end"},"Already a member?",l.a.createElement(k.b,{to:"/login",className:"blue-text ml-1"},"Login"))))),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))}}]),t}(n.Component),z=Object(p.b)(function(e,t){return{auth:e.auth}},function(e){return{signUpWithEmail:function(t){return e(function(e){return function(t,a){f.createUserWithEmailAndPassword(e.email,e.password).then(function(t){return E.collection("users").doc(t.user.uid).set({firstName:e.firstName,city:e.city})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(W),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){a.props.auth.userLoggedIn||a.props.history.push("/")},a.logout=function(){a.props.signOut(),setTimeout(function(){a.props.history.push("/login")},200)},a.setSleepTimer=function(){localStorage.setItem("sleepTime",a.state.sleepTime)},a.state={sleepTime:localStorage.getItem("sleepTime")},a.handleChange=function(e){a.setState(Object(G.a)({},a.state,{sleepTime:60*e.target.value}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement(j,{options:{backLink:"back",title:"Settings",narrator:null,year:null,floatButton:!0}}),l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item waves-effect waves-light darken-4 grey text-info"},l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,value:this.state.sleepTime/60,type:"text",id:"sleepTime",className:"form-control"})," minute(s)",l.a.createElement("label",{htmlFor:"sleepTime",className:"active"},"Sleep Time")),l.a.createElement("button",{className:"btn btn-success",onClick:this.setSleepTimer},"Update sleep timer")),l.a.createElement("li",{className:"list-group-item waves-effect waves-light darken-4 grey"},l.a.createElement("div",{className:"btn btn-danger",onClick:this.logout},"Logout"))))}}]),t}(n.Component),q=Object(p.b)(function(e,t){return{auth:e.auth}},function(e){return{signOut:function(){return e(function(e,t){f.signOut().then(function(){e({type:"SIGN_OUT"})}).catch(function(e){console.log(e)})})}}})(J),Z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){a.props.updateLoginStatus()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return localStorage.getItem("sleepTime")||localStorage.setItem("sleepTime",3600),l.a.createElement(k.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(R,null),l.a.createElement(O.b,{exact:!0,path:"/",component:Y}),l.a.createElement(O.b,{exact:!0,path:"/book",component:P}),l.a.createElement(O.b,{path:"/play",component:_}),l.a.createElement(O.b,{path:"/login",component:K}),l.a.createElement(O.b,{path:"/signup",component:z}),l.a.createElement(O.b,{path:"/settings",component:q})))}}]),t}(n.Component),$=Object(p.b)(function(e,t){return{auth:e.auth}},function(e){return{updateLoginStatus:function(){return e(function(e,t){f.onAuthStateChanged(function(){e({type:"UPDATE_LOGIN_STATUS",status:!!f.currentUser})})})}}})(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=a(19),X=a(55),ee={userLoggedIn:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LOGIN_STATUS":return Object(G.a)({},e,{userLoggedIn:t.status});case"SIGN_OUT":return Object(G.a)({},e,{userLoggedIn:!1});case"SIGNUP_SUCCESS":return Object(G.a)({},e,{userLoggedIn:!0,authError:null});case"SIGNUP_ERROR":return Object(G.a)({},e,{authError:t.err.message});case"LOGIN_SUCCESS":return Object(G.a)({},e,{userLoggedIn:!0,authError:null});case"LOGIN_ERROR":return Object(G.a)({},e,{authError:t.err.message});default:return e}},ae={playing:!1,song:{title:null,narrator:null,id:null},RPControls:"",seekSong:"",playbackRate:1,timerStatus:null,seekStatus:!1,played:0,playedSeconds:0,loaded:0,loadedSeconds:0,totalDuration:0,bookName:null},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_PLAY"===t.type)return Object(G.a)({},e,{playing:!e.playing});if("CHANGE_SONG"===t.type){var a=e.songsList.filter(function(e){return e===t.songObject});return e.RPControls.seekTo(10),a.length?Object(G.a)({},e,{playing:!0,song:a[0]}):Object(G.a)({},e)}if("INIT_PLAYER"===t.type)return Object(G.a)({},e,{RPControls:t.RPControls,allPlaylists:t.initialData,songsList:[]});if("SEEK_SONG"===t.type)return Object(G.a)({},e,{seekSong:t.duration});if("RESET_SEEK_VALUE"===t.type)return Object(G.a)({},e,{seekSong:null});if("CHANGE_PLAYBACK_RATE"===t.type)return Object(G.a)({},e,{playbackRate:parseFloat(t.rate)});if("TOGGLE_TIMER"===t.type){if(null===e.timerStatus)return Object(G.a)({},e,{timerStatus:1});if(1===e.timerStatus)return Object(G.a)({},e,{timerStatus:null})}else{if("UPDATE_SEEK_STATUS"===t.type)return Object(G.a)({},e,{seekStatus:t.seekStatus});if("UPDATE_PLAYED"===t.type)return Object(G.a)({},e,{played:t.value});if("REF_UPDATE"===t.type)return Object(G.a)({},e,{played:parseFloat(t.status.played),playedSeconds:parseFloat(t.status.playedSeconds),loaded:parseFloat(t.status.loaded),loadedSeconds:parseFloat(t.status.loadedSeconds),totalDuration:parseFloat(t.dur)});if("CHANGE_PLAYLIST"===t.type)return Object(G.a)({},e,{songsList:t.playlist,bookName:t.bookName})}return e},le=Object(Q.c)({auth:te,player:ne}),re=Object(Q.d)(le,Object(Q.a)(X.a));c.a.render(l.a.createElement(p.a,{store:re},l.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[58,1,2]]]);
//# sourceMappingURL=main.cc1685f7.chunk.js.map