(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,a){e.exports=a.p+"static/media/cover.1f2c801c.jpg"},58:function(e,t,a){e.exports=a(85)},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),s=a.n(l),o=a(3),c=a(4),i=a(6),u=a(5),m=a(7),p=a(8),g=a(27),h=a.n(g);a(67),a(70);h.a.initializeApp({apiKey:"AIzaSyCKwHZ19MLlPx_FYgpvA6pbhkzTSsNhTrM",authDomain:"shruti-ac2cd.firebaseapp.com",databaseURL:"https://shruti-ac2cd.firebaseio.com",projectId:"shruti-ac2cd",storageBucket:"shruti-ac2cd.appspot.com",messagingSenderId:"184253930018",appId:"1:184253930018:web:4fcc8249564d9507"});var f=h.a.firestore(),d=h.a.auth(),E=f,b=function(e){return{type:"CHANGE_SONG",songObject:e}},y=function(e){return{type:"UPDATE_PLAYED",value:e}},v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).togglePlay=function(){a.props.togglePlayer()},a.openFullPlayer=function(){a.props.openPlayer()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.player,t=e.playing?"fas fa-pause-circle":"fas fa-play-circle";return r.a.createElement("span",null,r.a.createElement("div",{className:"bottomPlayer"},r.a.createElement("div",{className:"list-group-item text-light waves-effect waves-light font-weight-bold black darken-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10",onClick:this.openFullPlayer},r.a.createElement("div",{className:"songTitle text-success"},e.song.title),r.a.createElement("p",{className:"font-weight-lighter author-name"},e.song.narrator)),r.a.createElement("div",{className:"col-2"},r.a.createElement("span",{className:"text-white bigFont float-right",onClick:this.togglePlay},r.a.createElement("i",{className:t})))))))}}]),t}(n.Component),N=Object(p.b)(function(e){return{player:e.player}},function(e){return{togglePlayer:function(){return e({type:"TOGGLE_PLAY"})}}})(v),k=a(12),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).fixedButton="",a.showDown="",a.showMenu=!1,a.toggleMenu=function(){a.showMenu?(a.fixedButton="",a.showDown=""):(a.fixedButton="active",a.showDown="shown"),a.showMenu=!a.showMenu},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"fixed-action-btn ".concat(this.fixedButton),style:{top:"0",right:"0",height:"316px"}},r.a.createElement(k.b,{onClick:this.toggleMenu,to:"#",className:"btn-floating red waves-effect waves-light"},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("ul",{className:"list-unstyled"},r.a.createElement("li",null,r.a.createElement(k.b,{to:"/settings",className:"btn-floating btn-sm yellow darken-4 waves-effect waves-light ".concat(this.showDown)},r.a.createElement("i",{className:"fas fa-cog"}))),r.a.createElement("li",null,r.a.createElement(k.b,{to:"/",className:"btn-floating btn-sm green waves-effect waves-light ".concat(this.showDown)},r.a.createElement("i",{className:"fas fa-home"}))),r.a.createElement("li",null,r.a.createElement(k.b,{to:"/help",className:"btn-floating btn-sm blue darken-1 waves-effect waves-light ".concat(this.showDown)},r.a.createElement("i",{className:"fas fa-question"})))))}}]),t}(n.Component),O=a(20),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).navigate=function(e){"back"!==e?a.props.history.push(e):a.props.history.goBack()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.options;return r.a.createElement("div",{className:"text-white text-center center container",style:{marginTop:"10px",marginBottom:"10px"}},r.a.createElement("div",{className:"row"},t.backLink?r.a.createElement("div",{onClick:function(){return e.navigate(t.backLink)},className:"col-2 waves-effect waves-light closeButton"},r.a.createElement("i",{className:"fas fa-chevron-left"})):r.a.createElement("div",{className:"col-2 waves-effect waves-light closeButton"},r.a.createElement("i",{className:"fas fa-headphones"})),t.narrator?r.a.createElement("div",{className:"col-8 text-center font-weight-bold"},t.title,r.a.createElement("p",{className:"font-weight-lighter"}," ",t.narrator," - ",t.year)):r.a.createElement("div",{className:"col-8 waves-effect waves-light closeButton"},t.title),r.a.createElement("div",{className:"col-2"},r.a.createElement(S,null))))}}]),t}(n.Component),j=Object(O.e)(w),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).selectSong=function(e){a.props.changeSong(e)},a.openFullPlayer=function(){a.props.history.push("/play")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.player.songsList?this.props.auth.userLoggedIn||this.props.history.push("/login"):this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.player,t=this.selectSong,a=e.songsList?Object.keys(e.songsList).map(function(a,n){var l="list-group-item waves-effect waves-light font-weight-bold darken-4 grey ";return l+=e.song.title===e.songsList[a].title?"text-success":"text-light",r.a.createElement("div",{key:n,onClick:function(){return t(e.songsList[a])},className:l},e.songsList[a].title,r.a.createElement("p",{className:"font-weight-lighter author-name"},e.songsList[a].narrator))}):null,l={backLink:"/",title:e.bookName,narrator:null,year:null,floatButton:!0};return r.a.createElement(n.Fragment,null,r.a.createElement(j,{options:l}),r.a.createElement("div",{className:"list-group"},a,e.song.title?r.a.createElement(N,{openPlayer:this.openFullPlayer}):null))}}]),t}(n.Component),P=Object(p.b)(function(e,t){return{player:e.player,auth:e.auth}},function(e){return{changeSong:function(t){return e(b(t))}}})(C);function x(e){var t=e.className,a=e.seconds;return r.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),r=T(t.getUTCSeconds());if(a)return"".concat(a,":").concat(T(n),":").concat(r);return"".concat(n,":").concat(r)}(a))}function T(e){return("0"+e).slice(-2)}var L=a(50),A=a.n(L),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).togglePlay=function(){a.props.togglePlayer()},a.getSongIndexOnPlaylist=function(e){return a.props.player.songsList.findIndex(function(t){return t===e})},a.playNextOrPrevSong=function(e){var t=a.props.player,n=a.getSongIndexOnPlaylist(t.song);void 0!==t.songsList[n+e]&&a.props.changeSong(t.songsList[n+e])},a.seekSong=function(e){a.props.seekSong(e)},a.handleRateChange=function(e){a.props.changePlaybackRate(e.target.value)},a.handleBookMark=function(){console.log("Handle BookMark")},a.sleeper=function(e){setTimeout(function(){a.togglePlay(),a.props.toggleTimer()},1e3*e)},a.sleepTimer=function(){a.props.toggleTimer(),setTimeout(function(){clearTimeout(a.sleeper),1===a.props.player.timerStatus&&a.sleeper(localStorage.getItem("sleepTime")-2)},2e3)},a.onSeekMouseDown=function(){a.props.updateSeekStatus(!0)},a.onSeekChange=function(e){a.props.updatePlayed(parseFloat(e.target.value))},a.onSeekMouseUp=function(e){a.props.updateSeekStatus(!1),a.props.seekSong(parseFloat(e.target.value))},a.onProgress=function(e){},a.songEnded=function(){console.log("Song ended")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.player.song.title||this.props.history.push("/book")}},{key:"render",value:function(){var e,t=this,a=this.props.player,n="bigFont waves-effect waves-light";e=r.a.createElement("span",{className:"controlLabels"},"Beta"),a.timerStatus&&(n+=" text-success");var l={backLink:"/book",title:a.song.title,narrator:a.song.narrator,year:a.song.release,floatButton:!0},s=a.playing?"fas fa-pause-circle":"fas fa-play-circle";return r.a.createElement("div",{className:"grey darken-4 text-center FullPlayer"},r.a.createElement(j,{options:l}),r.a.createElement("div",{className:"text-white center container"},r.a.createElement("div",{className:"row coverImage",style:{backgroundImage:"url(".concat(A.a,")")}})),r.a.createElement("div",{className:"playerControls text-white"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{value:a.played,className:"seekBar",type:"range",min:1e-4,max:.9999,step:"any",onPointerDown:this.onSeekMouseDown,onChange:this.onSeekChange,onTouchMove:this.onSeekChange,onPointerUp:this.onSeekMouseUp}),r.a.createElement("progress",{className:"progressBar",max:.9999,value:a.played}),r.a.createElement("span",{className:"durations"},r.a.createElement("span",{className:"float-left"},r.a.createElement(x,{seconds:a.playedSeconds})),r.a.createElement("span",{className:"float-right"},r.a.createElement(x,{seconds:a.totalDuration-a.playedSeconds}))))),r.a.createElement("div",{className:"row align-middle"},r.a.createElement("div",{className:"col text-right"},r.a.createElement("span",{className:"bigFont align-middle",onClick:function(){return t.playNextOrPrevSong(-1)}},r.a.createElement("i",{className:"fas fa-chevron-circle-left"}))),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"biggerFont",onClick:this.togglePlay},r.a.createElement("i",{className:s}))),r.a.createElement("div",{className:"col text-left"},r.a.createElement("span",{className:"bigFont",onClick:function(){return t.playNextOrPrevSong(1)}},r.a.createElement("i",{className:"fas fa-chevron-circle-right"})))),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"row align-middle"},r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("60m")}},r.a.createElement("i",{className:"fas fa-undo-alt"}),r.a.createElement("span",{className:"controlLabels"},"1m"))),r.a.createElement("div",{className:"col text-right"},r.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("10m")}},r.a.createElement("i",{className:"fas fa-undo-alt"}),r.a.createElement("span",{className:"controlLabels"},"10s"))),r.a.createElement("div",{className:"col text-center"}),r.a.createElement("div",{className:"col text-left"},r.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("10p")}},r.a.createElement("i",{className:"fas fa-redo-alt"}),r.a.createElement("span",{className:"controlLabels"},"10s"))),r.a.createElement("div",{className:"col"},r.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("60p")}},r.a.createElement("i",{className:"fas fa-redo-alt"}),r.a.createElement("span",{className:"controlLabels"},"1m")))),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"}),r.a.createElement("div",{className:"col"},r.a.createElement("select",{className:"custom-select",onChange:this.handleRateChange,defaultValue:a.playbackRate},r.a.createElement("option",{value:.5},"0.5x"),r.a.createElement("option",{value:1},"1x"),r.a.createElement("option",{value:1.25},"1.25x"),r.a.createElement("option",{value:1.5},"1.5x"),r.a.createElement("option",{value:1.75},"1.75x"),r.a.createElement("option",{value:2},"2x"),r.a.createElement("option",{value:2.25},"2.25x"),r.a.createElement("option",{value:2.5},"2.5x"),r.a.createElement("option",{value:2.75},"2.75x"),r.a.createElement("option",{value:3},"3x"))),r.a.createElement("div",{className:"col-6 bigFont"},r.a.createElement("span",{className:n,onClick:this.sleepTimer},r.a.createElement("i",{className:"fas fa-stopwatch"}),e)))))}}]),t}(n.Component),_=Object(p.b)(function(e){return{player:e.player}},function(e){return{togglePlayer:function(){return e({type:"TOGGLE_PLAY"})},changeSong:function(t){return e(b(t))},seekSong:function(t){return e(function(e){return{type:"SEEK_SONG",duration:e}}(t))},changePlaybackRate:function(t){return e(function(e){return{type:"CHANGE_PLAYBACK_RATE",rate:e}}(t))},toggleTimer:function(t){return e({type:"TOGGLE_TIMER"})},updateSeekStatus:function(t){return e(function(e){return{type:"UPDATE_SEEK_STATUS",seekStatus:e}}(t))},updatePlayed:function(t){return e(y(t))}}})(I),D=a(51),U=a.n(D),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).ref=function(e){a.player=e},a.componentDidMount=function(){a.props.initPlayer(a.player)},a.seekValue=function(e){e*e<1?a.player.seekTo(a.player.getDuration()*e):a.player.seekTo(a.player.getCurrentTime()+e)},a.resetSeek=function(){a.props.resetSeekValue()},a.onProgress=function(e){a.props.refUPDATE(e,a.player.getDuration())},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.player;switch(e.seekSong){case"10m":this.seekValue(-10),this.resetSeek();break;case"60m":this.seekValue(-60),this.resetSeek();break;case"10p":this.seekValue(10),this.resetSeek();break;case"60p":this.seekValue(60),this.resetSeek();break;default:e.seekSong>0&&!e.seekStatus&&(this.seekValue(e.played),this.resetSeek())}return r.a.createElement("span",null,r.a.createElement(U.a,{ref:this.ref,playbackRate:e.playbackRate,onPause:this.onPause,playing:e.playing,className:"PlayerDia",url:e.song.url,onProgress:this.onProgress}))}}]),t}(n.Component),R=Object(p.b)(function(e,t){return{player:e.player}},function(e){return{initPlayer:function(t){return e(function(e){return function(t,a){var n=[];E.collection("Books").doc("books").get().then(function(e){n=e.data()}).then(function(){t({type:"INIT_PLAYER",RPControls:e,initialData:n})}).catch(function(e){console.log(e)})}}(t))},resetSeekValue:function(){return e({type:"RESET_SEEK_VALUE"})},updatePlayed:function(t){return e(y(t))},refUPDATE:function(t,a){return e(function(e,t){return{type:"REF_UPDATE",status:e,dur:t}}(t,a))}}})(F),G=a(2),B=a(52),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).initialData=[],a.thisbe="",a.state={loading:!0},a.componentDidMount=function(){a.props.auth.userLoggedIn?a.setState(Object(G.a)({},a.state,{loading:!1})):setTimeout(function(){a.setState(Object(G.a)({},a.state,{loading:!1})),a.props.auth.userLoggedIn||a.props.history.push("/login")},3e3)},a.goToPlayList=function(e,t){var n=Object.entries(e).map(function(e){return e[1]});a.props.changePlaylist(n,t),a.props.history.push("/book")},a.makeBookList=function(e){var t=e.allPlaylists,n=a.goToPlayList;return t?Object.keys(t).map(function(e,a){return r.a.createElement("div",{key:a,onClick:function(){n(t[e],e)},className:"list-group-item waves-effect waves-light font-weight-bold darken-4 grey text-light"},e)}):null},a.headerOptions={backLink:null,title:"Shruti",narrator:null,year:null,floatButton:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.player;return this.state.loading?r.a.createElement("div",{className:"loaderAniContainer"},r.a.createElement("div",{className:"loaderAni"},r.a.createElement(B.FireworkSpinner,{size:50,color:"rgb(0, 255, 137)",loading:this.state.loading}))):r.a.createElement(n.Fragment,null,r.a.createElement(j,{options:this.headerOptions}),this.makeBookList(e))}}]),t}(n.Component),Y=Object(p.b)(function(e,t){return{player:e.player,auth:e.auth}},function(e){return{changePlaylist:function(t,a){return e(function(e,t){return{type:"CHANGE_PLAYLIST",playlist:e,bookName:t}}(t,a))}}})(M),V=(a(84),a(22)),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.loginWithEmail(a.state)},a.handleChange=function(e){a.setState(Object(G.a)({},a.state,Object(V.a)({},e.target.id,e.target.value)))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.auth.userLoggedIn?r.a.createElement(O.a,{to:"/"}):r.a.createElement("section",{className:"form-elegant"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9 col-lg-7 col-sm-12 col-xl-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body mx-4"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",{className:"dark-grey-text mb-5"},r.a.createElement("strong",null,"Login"))),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"email",className:"form-control"}),r.a.createElement("label",{htmlFor:"email"},"Email")),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password",className:"form-control"}),r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("div",{className:"text-center mb-3"},r.a.createElement("button",{type:"submit",className:"btn blue-gradient btn-block btn-rounded z-depth-1a text-white"},"Login")))),this.props.auth.authError?r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.props.auth.authError):null,r.a.createElement("div",{className:"modal-footer mx-5 pt-3 mb-1"},r.a.createElement("p",{className:"font-small grey-text d-flex justify-content-end"},"New here?",r.a.createElement(k.b,{to:"/signup",className:"blue-text ml-1"},"Sign Up")))))))}}]),t}(n.Component),H=Object(p.b)(function(e,t){return{auth:e.auth}},function(e){return{loginWithEmail:function(t){return e((a=t,function(e,t){d.signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(K),W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",city:""},a.handleSubmit=function(e){e.preventDefault(),a.props.signUpWithEmail(a.state)},a.handleChange=function(e){a.setState(Object(G.a)({},a.state,Object(V.a)({},e.target.id,e.target.value)))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.auth.userLoggedIn?r.a.createElement(O.a,{to:"/"}):r.a.createElement("section",{className:"form-elegant"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9 col-lg-7 col-sm-12 col-xl-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body mx-4"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",{className:"dark-grey-text mb-5"},r.a.createElement("strong",null,"Sign Up"))),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"firstName",className:"form-control"}),r.a.createElement("label",{htmlFor:"firstName"},"First Name")),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"email",className:"form-control"}),r.a.createElement("label",{htmlFor:"email"},"Email")),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password",className:"form-control"}),r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"city",className:"form-control"}),r.a.createElement("label",{htmlFor:"city"},"City")),r.a.createElement("div",{className:"text-center mb-3"},r.a.createElement("button",{type:"submit",className:"btn blue-gradient btn-block btn-rounded z-depth-1a text-white"},"Sign up")))),this.props.auth.authError?r.a.createElement("div",{class:"alert alert-danger",role:"alert"},this.props.auth.authError):null,r.a.createElement("div",{className:"modal-footer mx-5 pt-3 mb-1"},r.a.createElement("p",{className:"font-small grey-text d-flex justify-content-end"},"Already a member?",r.a.createElement(k.b,{to:"/login",className:"blue-text ml-1"},"Login")))))))}}]),t}(n.Component),z=Object(p.b)(function(e,t){return{auth:e.auth}},function(e){return{signUpWithEmail:function(t){return e(function(e){return function(t,a){d.createUserWithEmailAndPassword(e.email,e.password).then(function(t){return E.collection("users").doc(t.user.uid).set({firstName:e.firstName,city:e.city})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(W),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.auth.userLoggedIn||a.props.history.push("/")},a.logout=function(){a.props.signOut(),setTimeout(function(){a.props.history.push("/login")},200)},a.setSleepTimer=function(){localStorage.setItem("sleepTime",a.state.sleepTime)},a.state={sleepTime:localStorage.getItem("sleepTime")},a.handleChange=function(e){a.setState(Object(G.a)({},a.state,{sleepTime:60*e.target.value}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(j,{options:{backLink:"back",title:"Settings",narrator:null,year:null,floatButton:!0}}),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item waves-effect waves-light darken-4 grey text-info"},r.a.createElement("div",{className:"md-form"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.sleepTime/60,type:"text",id:"sleepTime",className:"form-control"})," minute(s)",r.a.createElement("label",{htmlFor:"sleepTime",className:"active"},"Sleep Time")),r.a.createElement("button",{className:"btn btn-success",onClick:this.setSleepTimer},"Update sleep timer")),r.a.createElement("li",{className:"list-group-item waves-effect waves-light darken-4 grey"},r.a.createElement("div",{className:"btn btn-danger",onClick:this.logout},"Logout"))))}}]),t}(n.Component),q=Object(p.b)(function(e,t){return{auth:e.auth}},function(e){return{signOut:function(){return e(function(e,t){d.signOut().then(function(){e({type:"SIGN_OUT"})}).catch(function(e){console.log(e)})})}}})(J),Z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.updateLoginStatus()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return localStorage.getItem("sleepTime")||localStorage.setItem("sleepTime",3600),r.a.createElement(k.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement(O.b,{exact:!0,path:"/",component:Y}),r.a.createElement(O.b,{exact:!0,path:"/book",component:P}),r.a.createElement(O.b,{path:"/play",component:_}),r.a.createElement(O.b,{path:"/login",component:H}),r.a.createElement(O.b,{path:"/signup",component:z}),r.a.createElement(O.b,{path:"/settings",component:q})))}}]),t}(n.Component),$=Object(p.b)(function(e,t){return{auth:e.auth}},function(e){return{updateLoginStatus:function(){return e(function(e,t){d.onAuthStateChanged(function(){e({type:"UPDATE_LOGIN_STATUS",status:!!d.currentUser})})})}}})(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=a(19),X=a(55),ee={userLoggedIn:!1},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LOGIN_STATUS":return Object(G.a)({},e,{userLoggedIn:t.status});case"SIGN_OUT":return Object(G.a)({},e,{userLoggedIn:!1});case"SIGNUP_SUCCESS":return Object(G.a)({},e,{userLoggedIn:!0,authError:null});case"SIGNUP_ERROR":return Object(G.a)({},e,{authError:t.err.message});case"LOGIN_SUCCESS":return Object(G.a)({},e,{userLoggedIn:!0,authError:null});case"LOGIN_ERROR":return Object(G.a)({},e,{authError:t.err.message});default:return e}},ae={playing:!1,song:{title:null,narrator:null,id:null},RPControls:"",seekSong:"",playbackRate:1,timerStatus:null,seekStatus:!1,played:0,playedSeconds:0,loaded:0,loadedSeconds:0,totalDuration:0,bookName:null},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_PLAY"===t.type)return Object(G.a)({},e,{playing:!e.playing});if("CHANGE_SONG"===t.type){var a=e.songsList.filter(function(e){return e===t.songObject});return e.RPControls.seekTo(10),a.length?Object(G.a)({},e,{playing:!0,song:a[0]}):Object(G.a)({},e)}if("INIT_PLAYER"===t.type)return Object(G.a)({},e,{RPControls:t.RPControls,allPlaylists:t.initialData,songsList:[]});if("SEEK_SONG"===t.type)return Object(G.a)({},e,{seekSong:t.duration});if("RESET_SEEK_VALUE"===t.type)return Object(G.a)({},e,{seekSong:null});if("CHANGE_PLAYBACK_RATE"===t.type)return Object(G.a)({},e,{playbackRate:parseFloat(t.rate)});if("TOGGLE_TIMER"===t.type){if(null===e.timerStatus)return Object(G.a)({},e,{timerStatus:1});if(1===e.timerStatus)return Object(G.a)({},e,{timerStatus:null})}else{if("UPDATE_SEEK_STATUS"===t.type)return Object(G.a)({},e,{seekStatus:t.seekStatus});if("UPDATE_PLAYED"===t.type)return Object(G.a)({},e,{played:t.value});if("REF_UPDATE"===t.type)return Object(G.a)({},e,{played:parseFloat(t.status.played),playedSeconds:parseFloat(t.status.playedSeconds),loaded:parseFloat(t.status.loaded),loadedSeconds:parseFloat(t.status.loadedSeconds),totalDuration:parseFloat(t.dur)});if("CHANGE_PLAYLIST"===t.type)return Object(G.a)({},e,{songsList:t.playlist,bookName:t.bookName})}return e},re=Object(Q.c)({auth:te,player:ne}),le=Object(Q.d)(re,Object(Q.a)(X.a));s.a.render(r.a.createElement(p.a,{store:le},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[58,1,2]]]);
//# sourceMappingURL=main.c280cb97.chunk.js.map