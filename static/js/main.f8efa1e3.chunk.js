(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,t,a){e.exports=a.p+"static/media/cover.1f2c801c.jpg"},60:function(e,t,a){e.exports=a(85)},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),o=a.n(r),c=a(9),s=a(21),i=a(50),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var p=a(4),d=a(5),g=a(7),h=a(6),f=a(8),E=a(18),b=a(27),v=a.n(b);a(69),a(72);v.a.initializeApp({apiKey:"AIzaSyCKwHZ19MLlPx_FYgpvA6pbhkzTSsNhTrM",authDomain:"shruti-ac2cd.firebaseapp.com",databaseURL:"https://shruti-ac2cd.firebaseio.com",projectId:"shruti-ac2cd",storageBucket:"shruti-ac2cd.appspot.com",messagingSenderId:"184253930018",appId:"1:184253930018:web:4fcc8249564d9507"});var y=v.a.firestore(),N=v.a.auth(),k=y,S=function(e){return function(t,a){var n=a().player.songsList.filter(function(t){return t===e});n.length&&t({type:"CHANGE_SONG",songObject:n[0]})}},w=function(e){return{type:"UPDATE_PLAYED",value:e}},O=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).togglePlay=function(){a.props.togglePlayer()},a.openFullPlayer=function(){a.props.history.push("/play")},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.player,t=e.playing?"fas fa-pause-circle":"fas fa-play-circle";return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"bottomPlayer"},l.a.createElement("div",{className:"container list-group-item text-light waves-effect waves-light font-weight-bold darken-4",style:{background:"#212121"}},l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-10 black bottomPlayer-shadow",onClick:this.openFullPlayer,onKeyPress:this.openFullPlayer,role:"button",tabIndex:"0"},l.a.createElement("div",{className:"songTitle text-success"},e.song.title),l.a.createElement("p",{className:"font-weight-lighter author-name"},e.song.narrator)),l.a.createElement("div",{className:"col-xl-1 col-lg-1 col-md-2 col-sm-2 col-2 black bottomPlayer-shadow"},l.a.createElement("div",{className:"text-white bigFont float-right",onClick:this.togglePlay,onKeyPress:this.togglePlay,role:"button",tabIndex:"0"},l.a.createElement("i",{className:t}))),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))))}}]),t}(n.Component),x=Object(E.f)(Object(c.b)(function(e){return{player:e.player}},function(e){return{togglePlayer:function(){return e({type:"TOGGLE_PLAY"})}}})(O)),j=a(15),P=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).fixedButton="fixed-action-btn",a.showDown="",a.showMenu=!1,a.toggleMenu=function(){a.showMenu?(a.fixedButton="fixed-action-btn",a.showDown=""):(a.fixedButton="fixed-action-btn active",a.showDown="shown"),a.showMenu=!a.showMenu},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:this.fixedButton,style:{top:"0",right:"0",height:"316px"}},l.a.createElement(j.b,{to:"#",onClick:this.toggleMenu,className:"btn-floating red waves-effect waves-light"},l.a.createElement("i",{className:"fas fa-bars"})),l.a.createElement("ul",{className:"list-unstyled"},l.a.createElement("li",null,l.a.createElement(j.b,{to:"/settings",className:"btn-floating btn-sm yellow darken-4 waves-effect waves-light ".concat(this.showDown)},l.a.createElement("i",{className:"fas fa-cog"}))),l.a.createElement("li",null,l.a.createElement(j.b,{to:"/",className:"btn-floating btn-sm green waves-effect waves-light ".concat(this.showDown)},l.a.createElement("i",{className:"fas fa-home"}))),l.a.createElement("li",null,l.a.createElement(j.b,{to:"/help",className:"btn-floating btn-sm blue darken-1 waves-effect waves-light ".concat(this.showDown)},l.a.createElement("i",{className:"fas fa-question"}))))))}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).navigate=function(e){"back"!==e?a.props.history.push(e):a.props.history.goBack()},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.options;return l.a.createElement("div",{className:"text-white text-center center container",style:{marginTop:"10px",marginBottom:"10px"}},l.a.createElement("div",{className:"row"},t.backLink?l.a.createElement("div",{onClick:function(){return e.navigate(t.backLink)},onKeyPress:function(){return e.navigate(t.backLink)},role:"button",tabIndex:"0",className:"col-2 waves-effect waves-light closeButton"},l.a.createElement("i",{className:"fas fa-chevron-left"})):l.a.createElement("div",{className:"col-2 waves-effect waves-light closeButton"},l.a.createElement("i",{className:"fas fa-headphones"})),t.narrator?l.a.createElement("div",{className:"col-8 text-center font-weight-bold"},t.title,l.a.createElement("p",{className:"font-weight-lighter"},"".concat(t.narrator," - ").concat(t.year))):l.a.createElement("div",{className:"col-8 waves-effect waves-light closeButton"},t.title),l.a.createElement("div",{className:"col-2"},l.a.createElement(P,null))))}}]),t}(n.Component),T=Object(E.f)(C),L=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).selectSong=function(e){a.props.changeSong(e)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.player.songsList?this.props.auth.userLoggedIn||this.props.history.push("/login"):this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.player,t=this.selectSong,a=e.songsList?Object.keys(e.songsList).map(function(a,n){var r="list-group-item waves-effect waves-light font-weight-bold darken-4 grey ";return r+=e.song.title===e.songsList[a].title?"text-success":"text-light",l.a.createElement("div",{key:n,onClick:function(){return t(e.songsList[a])},className:r},e.songsList[a].title,l.a.createElement("p",{className:"font-weight-lighter author-name"},e.songsList[a].narrator))}):null,r={backLink:"/",title:e.bookName,narrator:null,year:null,floatButton:!0};return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-8 col-sm-8"},l.a.createElement(T,{options:r}),l.a.createElement("div",{className:"list-group"},a)),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "))),l.a.createElement("div",{style:{minHeight:"150px"}}),e.song.title?l.a.createElement(x,null):null)}}]),t}(n.Component),I=Object(c.b)(function(e,t){return{player:e.player,auth:e.auth}},function(e){return{changeSong:function(t){return e(S(t))}}})(L);function A(e){var t=e.className,a=e.seconds;return l.a.createElement("time",{dateTime:"P".concat(Math.round(a),"S"),className:t},function(e){var t=new Date(1e3*e),a=t.getUTCHours(),n=t.getUTCMinutes(),l=_(t.getUTCSeconds());if(a)return"".concat(a,":").concat(_(n),":").concat(l);return"".concat(n,":").concat(l)}(a))}function _(e){return("0"+e).slice(-2)}var R=a(52),U=a.n(R),F=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).getSongIndexOnPlaylist=function(e){return a.props.player.songsList.findIndex(function(t){return t===e})},a.playNextOrPrevSong=function(e){var t=a.props.player,n=a.getSongIndexOnPlaylist(t.song);void 0!==t.songsList[n+e]&&a.props.changeSong(t.songsList[n+e])},a.seekSong=function(e){a.props.seekSong(e)},a.togglePlay=function(){a.props.togglePlayer()},a.handleRateChange=function(e){a.props.changePlaybackRate(e.target.value)},a.handleBookMark=function(){console.log("Handle BookMark")},a.sleeper=function(e){setTimeout(function(){a.togglePlay(),a.props.toggleTimer()},1e3*e)},a.sleepTimer=function(){a.props.toggleTimer(),setTimeout(function(){clearTimeout(a.sleeper),!0===a.props.player.timerStatus&&a.sleeper(localStorage.getItem("sleepTime")-2)},2e3)},a.someFunction=function(){},a.onSeekMouseDown=function(){a.props.updateSeekStatus(!0)},a.onSeekChange=function(e){a.props.updatePlayed(parseFloat(e.target.value))},a.onSeekMouseUp=function(e){a.props.updateSeekStatus(!1),a.props.seekSong(parseFloat(e.target.value))},a.songEnded=function(){console.log("Song ended")},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.player.song.title||this.props.history.push("/book")}},{key:"render",value:function(){var e,t=this,a=this.props.player,r="bigFont waves-effect waves-light";e=l.a.createElement("span",{className:"controlLabels"},"".concat(localStorage.getItem("sleepTime")/60," min (Beta)")),a.timerStatus&&(r+=" text-success");var o={backLink:"/book",title:a.song.title,narrator:a.song.narrator,year:a.song.release,floatButton:!0},c=a.playing?"fas fa-pause-circle":"fas fa-play-circle";return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-8 col-sm-8"},l.a.createElement("div",{className:"grey darken-4 text-center FullPlayer"},l.a.createElement(T,{options:o}),l.a.createElement("div",{className:"text-white center container"},l.a.createElement("div",{className:"row coverImage",style:{backgroundImage:"url(".concat(U.a,")")}}))),"This app is meant for mobile use"),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "))),l.a.createElement("div",{className:"playerControls-main",style:{}},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-8 col-sm-8"},l.a.createElement("div",{className:"playerControls text-white"},l.a.createElement("div",{className:"row align-middle"},l.a.createElement("div",{className:"col"},l.a.createElement("input",{value:a.played,className:"seekBar",type:"range",min:1e-4,max:.9999,step:"any",onPointerDown:this.onSeekMouseDown,onChange:this.onSeekChange,onTouchMove:this.onSeekChange,onPointerUp:this.onSeekMouseUp}),l.a.createElement("progress",{className:"progressBar",max:.9999,value:a.played}),l.a.createElement("span",{className:"durations"},l.a.createElement("span",{className:"float-left"},l.a.createElement(A,{seconds:a.playedSeconds})),l.a.createElement("span",{className:"float-right"},l.a.createElement(A,{seconds:a.totalDuration-a.playedSeconds}))))),l.a.createElement("div",{className:"row align-middle"},l.a.createElement("div",{className:"col text-right"},l.a.createElement("span",{className:"bigFont align-middle",onClick:function(){return t.playNextOrPrevSong(-1)},onKeyPress:function(){return t.playNextOrPrevSong(-1)},role:"button",tabIndex:"0"},l.a.createElement("i",{className:"fas fa-chevron-circle-left"}))),l.a.createElement("div",{className:"col"},l.a.createElement("span",{className:"biggerFont",onClick:this.togglePlay,onKeyPress:this.togglePlay,role:"button",tabIndex:"0"},l.a.createElement("i",{className:c}))),l.a.createElement("div",{className:"col text-left"},l.a.createElement("span",{className:"bigFont",onClick:function(){return t.playNextOrPrevSong(1)},onKeyPress:function(){return t.playNextOrPrevSong(1)},role:"button",tabIndex:"0"},l.a.createElement("i",{className:"fas fa-chevron-circle-right"})))),l.a.createElement("div",{className:"spacer"}),l.a.createElement("div",{className:"row align-middle"},l.a.createElement("div",{className:"col"},l.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("60m")},onKeyPress:function(){return t.seekSong("60m")},role:"button",tabIndex:"0"},l.a.createElement("i",{className:"fas fa-undo-alt"}),l.a.createElement("span",{className:"controlLabels"},"1m"))),l.a.createElement("div",{className:"col text-right"},l.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("10m")},onKeyPress:function(){return t.seekSong("10m")},role:"button",tabIndex:"0"},l.a.createElement("i",{className:"fas fa-undo-alt"}),l.a.createElement("span",{className:"controlLabels"},"10s"))),l.a.createElement("div",{className:"col text-center"}),l.a.createElement("div",{className:"col text-left"},l.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("10p")},onKeyPress:function(){return t.seekSong("10p")},role:"button",tabIndex:"0"},l.a.createElement("i",{className:"fas fa-redo-alt"}),l.a.createElement("span",{className:"controlLabels"},"10s"))),l.a.createElement("div",{className:"col"},l.a.createElement("span",{className:"bigFont waves-effect waves-light",onClick:function(){return t.seekSong("60p")},onKeyPress:function(){return t.seekSong("60p")},role:"button",tabIndex:"0"},l.a.createElement("i",{className:"fas fa-redo-alt"}),l.a.createElement("span",{className:"controlLabels"},"1m")))),l.a.createElement("div",{className:"spacer"}),l.a.createElement("div",{className:"row align-middle"},l.a.createElement("div",{className:"col"}),l.a.createElement("div",{className:"col"},l.a.createElement("select",{className:"custom-select",onChange:this.handleRateChange,defaultValue:a.playbackRate},l.a.createElement("option",{value:.5},"0.5x"),l.a.createElement("option",{value:1},"1x"),l.a.createElement("option",{value:1.25},"1.25x"),l.a.createElement("option",{value:1.5},"1.5x"),l.a.createElement("option",{value:1.75},"1.75x"),l.a.createElement("option",{value:2},"2x"),l.a.createElement("option",{value:2.25},"2.25x"),l.a.createElement("option",{value:2.5},"2.5x"),l.a.createElement("option",{value:2.75},"2.75x"),l.a.createElement("option",{value:3},"3x"))),l.a.createElement("div",{className:"col-6 bigFont"},l.a.createElement("span",{className:r,onClick:this.sleepTimer,onKeyPress:this.sleepTimer,role:"button",tabIndex:"0"},l.a.createElement("i",{className:"fas fa-stopwatch"}),e))))),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))))}}]),t}(n.Component),D=Object(c.b)(function(e){return{player:e.player}},function(e){return{togglePlayer:function(){return e({type:"TOGGLE_PLAY"})},changeSong:function(t){return e(S(t))},seekSong:function(t){return e(function(e){return{type:"SEEK_SONG",duration:e}}(t))},changePlaybackRate:function(t){return e(function(e){return{type:"CHANGE_PLAYBACK_RATE",rate:e}}(t))},toggleTimer:function(t){return e({type:"TOGGLE_TIMER"})},updateSeekStatus:function(t){return e(function(e){return{type:"UPDATE_SEEK_STATUS",seekStatus:e}}(t))},updatePlayed:function(t){return e(w(t))}}})(F),G=a(53),B=a.n(G),M=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).ref=function(e){a.player=e},a.componentDidMount=function(){a.props.initPlayer(a.player)},a.seekValue=function(e){e*e<1?a.player.seekTo(a.player.getDuration()*e):a.player.seekTo(a.player.getCurrentTime()+e)},a.resetSeek=function(){a.props.resetSeekValue()},a.onProgress=function(e){a.props.refUPDATE(e,a.player.getDuration())},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.player;switch(e.seekSong){case"10m":this.seekValue(-10),this.resetSeek();break;case"60m":this.seekValue(-60),this.resetSeek();break;case"10p":this.seekValue(10),this.resetSeek();break;case"60p":this.seekValue(60),this.resetSeek();break;default:e.seekSong>0&&!e.seekStatus&&(this.seekValue(e.played),this.resetSeek())}return l.a.createElement("span",null,l.a.createElement(B.a,{ref:this.ref,playbackRate:e.playbackRate,onPause:this.onPause,playing:e.playing,className:"PlayerDia",url:e.song.url,onProgress:this.onProgress}))}}]),t}(n.Component),K=Object(c.b)(function(e){return{player:e.player}},function(e){return{initPlayer:function(t){return e(function(e){return function(t){var a=[];k.collection("Books").doc("books").get().then(function(e){a=e.data()}).then(function(){t({type:"INIT_PLAYER",RPControls:e,initialData:a})}).catch(function(e){t({type:"INIT_PLAYER_ERROR",err:e})})}}(t))},resetSeekValue:function(){return e({type:"RESET_SEEK_VALUE"})},updatePlayed:function(t){return e(w(t))},refUPDATE:function(t,a){return e(function(e,t){return{type:"REF_UPDATE",status:e,dur:t}}(t,a))}}})(M),W=a(2),Y=a(54),H=a(57),V=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).initialData=[],a.thisbe="",a.state={loading:!0},a.headerOptions={backLink:null,title:"Shruti",narrator:null,year:null,floatButton:!0},a.componentDidMount=function(){a.props.auth.userLoggedIn?a.setState(function(e){return Object(W.a)({},e,{loading:!1})}):setTimeout(function(){a.setState(function(e){return Object(W.a)({},e,{loading:!1})}),a.props.auth.userLoggedIn||a.props.history.push("/login")},3e3)},a.goToPlayList=function(e,t){var n=Object.entries(e).map(function(e){return e[1]});a.props.changePlaylist(n,t),a.props.history.push("/book")},a.makeBookList=function(e){var t=e.allPlaylists,n=a.goToPlayList;return t?Object.keys(t).map(function(e){return l.a.createElement("div",{key:function(){return Object(H.uuidv1)()},onKeyPress:function(){n(t[e],e)},role:"button",tabIndex:"0",onClick:function(){n(t[e],e)},className:"list-group-item waves-effect waves-light font-weight-bold darken-4 grey text-light"},e)}):null},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.player;return this.state.loading?l.a.createElement("div",{className:"loaderAniContainer"},l.a.createElement("div",{className:"loaderAni"},l.a.createElement(Y.FireworkSpinner,{size:50,color:"rgb(0, 255, 137)",loading:this.state.loading}))):l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-4 col-lg-4 col-md-8 col-sm-8"},l.a.createElement(T,{options:this.headerOptions}),this.makeBookList(e)),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "))),l.a.createElement("div",{style:{minHeight:"150px"}}," "),e.song.title?l.a.createElement(x,null):null)}}]),t}(n.Component),z=Object(c.b)(function(e){return{player:e.player,auth:e.auth}},function(e){return{changePlaylist:function(t,a){return e(function(e,t){return{type:"CHANGE_PLAYLIST",playlist:e,bookName:t}}(t,a))}}})(V),J=(a(84),a(23)),q=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.props.loginWithEmail(a.state)},a.handleChange=function(e){a.setState(Object(W.a)({},a.state,Object(J.a)({},e.target.id,e.target.value)))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.props.auth.userLoggedIn?l.a.createElement(E.a,{to:"/"}):l.a.createElement("section",{className:"form-elegant"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-8 col-sm-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body mx-4"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"dark-grey-text mb-5"},l.a.createElement("strong",null,"Login"))),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"text",id:"email",className:"form-control"}),l.a.createElement("label",{htmlFor:"email"},"Email")),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password",className:"form-control"}),l.a.createElement("label",{htmlFor:"password"},"Password")),l.a.createElement("div",{className:"text-center mb-3"},l.a.createElement("button",{type:"submit",className:"btn blue-gradient btn-block btn-rounded z-depth-1a text-white"},"Login")))),this.props.auth.authError?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.auth.authError):null,l.a.createElement("div",{className:"modal-footer mx-5 pt-3 mb-1"},l.a.createElement("p",{className:"font-small grey-text d-flex justify-content-end"},"New here?",l.a.createElement(j.b,{to:"/signup",className:"blue-text ml-1"},"Sign Up"))))),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))}}]),t}(n.Component),Z=Object(c.b)(function(e){return{auth:e.auth}},function(e){return{loginWithEmail:function(t){return e((a=t,function(e){N.signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(q),$=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",firstName:"",city:""},a.handleSubmit=function(e){e.preventDefault(),a.props.signUpWithEmail(a.state)},a.handleChange=function(e){a.setState(Object(W.a)({},a.state,Object(J.a)({},e.target.id,e.target.value)))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.props.auth.userLoggedIn?l.a.createElement(E.a,{to:"/"}):l.a.createElement("section",{className:"form-elegant"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," "),l.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-8 col-sm-8"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body mx-4"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"text-center"},l.a.createElement("h3",{className:"dark-grey-text mb-5"},l.a.createElement("strong",null,"Sign Up"))),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"text",id:"firstName",className:"form-control"}),l.a.createElement("label",{htmlFor:"firstName"},"First Name")),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"text",id:"email",className:"form-control"}),l.a.createElement("label",{htmlFor:"email"},"Email")),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"password",id:"password",className:"form-control"}),l.a.createElement("label",{htmlFor:"password"},"Password")),l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,type:"text",id:"city",className:"form-control"}),l.a.createElement("label",{htmlFor:"city"},"City")),l.a.createElement("div",{className:"text-center mb-3"},l.a.createElement("button",{type:"submit",className:"btn blue-gradient btn-block btn-rounded z-depth-1a text-white"},"Sign up")))),this.props.auth.authError?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.auth.authError):null,l.a.createElement("div",{className:"modal-footer mx-5 pt-3 mb-1"},l.a.createElement("p",{className:"font-small grey-text d-flex justify-content-end"},"Already a member?",l.a.createElement(j.b,{to:"/login",className:"blue-text ml-1"},"Login"))))),l.a.createElement("div",{className:"col-xl col-lg col-md-2 col-sm-2"}," ")))}}]),t}(n.Component),Q=Object(c.b)(function(e){return{auth:e.auth}},function(e){return{signUpWithEmail:function(t){return e(function(e){return function(t){N.createUserWithEmailAndPassword(e.email,e.password).then(function(t){return k.collection("users").doc(t.user.uid).set({firstName:e.firstName,city:e.city})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})($),X=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={sleepTime:localStorage.getItem("sleepTime")},a.componentDidMount=function(){a.props.auth.userLoggedIn||a.props.history.push("/")},a.logout=function(){a.props.signOut(),setTimeout(function(){a.props.history.push("/login")},200)},a.setSleepTimer=function(){localStorage.setItem("sleepTime",a.state.sleepTime),a.props.history.goBack()},a.handleChange=function(e){a.setState(Object(W.a)({},a.state,{sleepTime:60*e.target.value}))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(n.Fragment,null,l.a.createElement(T,{options:{backLink:"back",title:"Settings",narrator:null,year:null,floatButton:!0}}),l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item waves-effect waves-light darken-4 grey text-info"},l.a.createElement("div",{className:"md-form"},l.a.createElement("input",{onChange:this.handleChange,value:this.state.sleepTime/60,type:"text",id:"sleepTime",className:"form-control"}),"minute(s)",l.a.createElement("label",{htmlFor:"sleepTime",className:"active"},"Sleep Time")),l.a.createElement("button",{className:"btn btn-success",onClick:this.setSleepTimer,onKeyPress:this.setSleepTimer,tabIndex:"0"},"Update sleep timer")),l.a.createElement("li",{className:"list-group-item waves-effect waves-light darken-4 grey"},l.a.createElement("div",{className:"btn btn-danger",onClick:this.logout,onKeyPress:this.logout,tabIndex:"0",role:"button"},"Logout"))))}}]),t}(n.Component),ee=Object(c.b)(function(e){return{auth:e.auth}},function(e){return{signOut:function(){return e(function(e){N.signOut().then(function(){e({type:"SIGN_OUT"})}).catch(function(t){e({type:"SIGN_OUT_ERROR",err:t})})})}}})(X),te=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){a.props.updateLoginStatus()},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return localStorage.getItem("sleepTime")||localStorage.setItem("sleepTime",3600),l.a.createElement(j.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(K,null),l.a.createElement(E.b,{exact:!0,path:"/",component:z}),l.a.createElement(E.b,{exact:!0,path:"/book",component:I}),l.a.createElement(E.b,{path:"/play",component:D}),l.a.createElement(E.b,{path:"/login",component:Z}),l.a.createElement(E.b,{path:"/signup",component:Q}),l.a.createElement(E.b,{path:"/settings",component:ee})))}}]),t}(n.Component),ae=Object(c.b)(function(e,t){return{auth:e.auth}},function(e){return{updateLoginStatus:function(){return e(function(e){N.onAuthStateChanged(function(){e({type:"UPDATE_LOGIN_STATUS",status:!!N.currentUser})})})}}})(te),ne={userLoggedIn:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LOGIN_STATUS":return Object(W.a)({},e,{userLoggedIn:t.status});case"SIGN_OUT":return Object(W.a)({},e,{userLoggedIn:!1});case"SIGNUP_SUCCESS":return Object(W.a)({},e,{userLoggedIn:!0,authError:null});case"SIGNUP_ERROR":return Object(W.a)({},e,{authError:t.err.message});case"LOGIN_SUCCESS":return Object(W.a)({},e,{userLoggedIn:!0,authError:null});case"LOGIN_ERROR":return Object(W.a)({},e,{authError:t.err.message});default:return e}},re={playing:!1,song:{title:null,narrator:null,id:null},RPControls:"",seekSong:"",playbackRate:1,timerStatus:!1,seekStatus:!1,played:0,playedSeconds:0,loaded:0,loadedSeconds:0,totalDuration:0,bookName:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_PLAY":return Object(W.a)({},e,{playing:!e.playing});case"CHANGE_SONG":return Object(W.a)({},e,{playing:!0,song:t.songObject});case"INIT_PLAYER":return Object(W.a)({},e,{RPControls:t.RPControls,allPlaylists:t.initialData,songsList:[]});case"SEEK_SONG":return Object(W.a)({},e,{seekSong:t.duration});case"RESET_SEEK_VALUE":return Object(W.a)({},e,{seekSong:null});case"CHANGE_PLAYBACK_RATE":return Object(W.a)({},e,{playbackRate:parseFloat(t.rate)});case"TOGGLE_TIMER":return Object(W.a)({},e,{timerStatus:!e.timerStatus});case"UPDATE_SEEK_STATUS":return Object(W.a)({},e,{seekStatus:t.seekStatus});case"UPDATE_PLAYED":return Object(W.a)({},e,{played:t.value});case"REF_UPDATE":return Object(W.a)({},e,{played:parseFloat(t.status.played),playedSeconds:parseFloat(t.status.playedSeconds),loaded:parseFloat(t.status.loaded),loadedSeconds:parseFloat(t.status.loadedSeconds),totalDuration:parseFloat(t.dur)});case"CHANGE_PLAYLIST":return Object(W.a)({},e,{songsList:t.playlist,bookName:t.bookName});default:return e}},ce=Object(s.c)({auth:le,player:oe}),se=Object(s.d)(ce,Object(s.a)(i.a));o.a.render(l.a.createElement(c.a,{store:se},l.a.createElement(ae,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Shruti",window.location.href).origin!==window.location.origin)return;window.addEventListener("install",function(){console.log("Installing")}),window.addEventListener("load",function(){var t="".concat("/Shruti","/service-worker.js");u?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):m(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):m(t,e)})}}()}},[[60,1,2]]]);
//# sourceMappingURL=main.f8efa1e3.chunk.js.map